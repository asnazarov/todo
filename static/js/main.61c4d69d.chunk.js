(this.webpackJsonptodoReact=this.webpackJsonptodoReact||[]).push([[0],{10:function(t,e,a){t.exports={addList:"AddList_addList__pZI9g",addPopup:"AddList_addPopup__1Q1Nv",addPopup__closePopup:"AddList_addPopup__closePopup__3wXAZ",addPopup__listItem:"AddList_addPopup__listItem__OzCwJ",addPopup__listColor:"AddList_addPopup__listColor__45nmD",addPopup__btn:"AddList_addPopup__btn__1SrdK",field:"AddList_field__10piQ",field__valid:"AddList_field__valid__3Zeop"}},12:function(t,e,a){t.exports={list:"List_list__RJ1u1",list__item:"List_list__item__1WCe2",list__removeIcon:"List_list__removeIcon__2-lJo",active:"List_active__1oSwG",act:"List_act__FjY9U",list__text:"List_list__text__1c8Ta",list__addButton:"List_list__addButton__3TY9D"}},14:function(t,e,a){t.exports=a.p+"static/media/remove.a4124f13.svg"},17:function(t,e,a){t.exports={badge:"Badge_badge__2NMzO",badge_stylePopup:"Badge_badge_stylePopup__3fDQk","badge_stylePopup\u0410ctive":"Badge_badge_stylePopup\u0410ctive__tQloG",badge__grey:"Badge_badge__grey__2mpid",badge__green:"Badge_badge__green__34YQj",badge__blue:"Badge_badge__blue__1VOzn",badge__pink:"Badge_badge__pink__vNC9-",badge__lime:"Badge_badge__lime__1M7Cm",badge__purple:"Badge_badge__purple__K0AqK",badge__black:"Badge_badge__black__198Td",badge__red:"Badge_badge__red__3DyIq"}},19:function(t,e,a){t.exports={todo:"App_todo__3VOEG",todo__sidebar:"App_todo__sidebar__3tgW3",todo__tascs:"App_todo__tascs__1VfBd"}},36:function(t,e,a){t.exports=a.p+"static/media/close.14e2f379.svg"},37:function(t,e,a){t.exports=a.p+"static/media/edit.8b2f00f7.svg"},38:function(t,e,a){t.exports=a.p+"static/media/addTask.a5b017a6.svg"},42:function(t,e,a){t.exports=a(71)},47:function(t,e,a){},5:function(t,e,a){t.exports={tasks:"Tascs_tasks__2wu-I",tasks__title:"Tascs_tasks__title__100QG",tasks__noTasks:"Tascs_tasks__noTasks__3q3sc",tasks__itemRow:"Tascs_tasks__itemRow__2Gmu7",tasks__removeIcon:"Tascs_tasks__removeIcon__2lTFL",tasks__text:"Tascs_tasks__text__3Ap8r",tasks__valid:"Tascs_tasks__valid__3h7lw",tasks__formBlock:"Tascs_tasks__formBlock__23lge",tasks__formNew:"Tascs_tasks__formNew__LlGuB",tasks__addTascs:"Tascs_tasks__addTascs__14Tbk",tascs__addTascs_gray:"Tascs_tascs__addTascs_gray__2UHoE",field:"Tascs_field__3vTdR",checkbox:"Tascs_checkbox__3H-jV"}},65:function(t){t.exports=JSON.parse("{}")},71:function(t,e,a){"use strict";a.r(e);var s=a(0),o=a.n(s),n=a(35),i=a.n(n),c=a(21),l=(a(47),a(40)),d=a(4),r=a(3),_=a.n(r),u=a(1),m=a(19),p=a.n(m),f=(a(65),a(41)),k=a(12),v=a.n(k),b=a(13),g=a.n(b),h=a(17),E=a.n(h),C=function(t){var e=t.color,a=t.stylePopup,s=t.stylePopup\u0410ctive,n=t.handleClickPopup;return o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{onClick:n,className:g()(E.a.badge,E.a[e],E.a[a],E.a[s])}))},j=a(14),T=a.n(j),O=function(t){var e=t.items,a=t.dataList,s=t.openPopup,n=t.isRemovable,i=t.onRemove,c=t.onClickItem,l=t.activeItem;return o.a.createElement("ul",{onClick:s,className:v.a.list},e.map((function(t,e){var s="badge__".concat(t.color);return o.a.createElement("li",{onClick:c?function(){return c(t)}:null,className:g()(v.a.list__item,v.a[t.list__addButton],v.a[(t.active||l&&l.id===t.id)&&"active"]),key:e},o.a.createElement("i",null,t.icon?t.icon:o.a.createElement(C,{color:s})),o.a.createElement("span",{className:v.a.list__text},t.name," ",t.tasks&&t.tasks.length>0&&"( ".concat(t.tasks.length," )")),n&&o.a.createElement("img",{className:v.a.list__removeIcon,onClick:function(){return function(t){if(console.log(a),window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a?"))for(var e in a)a[e].id==t.id&&_.a.delete("https://todo-165ea.firebaseio.com/todo/lists/".concat(e,".json")).then((function(e){i(t.id)}))}(t)},src:T.a,alt:"remove icon"}))})))},N=a(10),L=a.n(N),y=a(36),w=a.n(y),x=function(t){var e=t.onAddList,a=(t.items,t.colors),n=Object(s.useState)(!1),i=Object(d.a)(n,2),c=i[0],l=i[1],r=Object(s.useState)(3),u=Object(d.a)(r,2),m=u[0],p=u[1],k=Object(s.useState)(!1),v=Object(d.a)(k,2),b=v[0],g=v[1],h=Object(s.useState)(""),E=Object(d.a)(h,2),j=E[0],T=E[1],N=Object(s.useState)(!1),y=Object(d.a)(N,2),x=y[0],P=y[1];Object(s.useEffect)((function(){Array.isArray(a)&&p(a[0].id)}),[a]);var B=function(){T(""),p(a[0].id),P(!1)};return o.a.createElement("div",{className:L.a.addList},o.a.createElement(O,{openPopup:function(){l((function(t){return!t})),B()},items:[{list__addButton:"list__addButton",name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",icon:o.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",opacity:"1"},o.a.createElement("path",{d:"M6 1V11",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("path",{d:"M1 6H11",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}]}),c&&o.a.createElement("div",{className:L.a.addPopup},o.a.createElement("img",{onClick:function(){B(),l(!1)},className:L.a.addPopup__closePopup,src:w.a,alt:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"}),o.a.createElement("input",{value:j,onChange:function(t){return T(t.target.value)},className:L.a.field,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"}),x?o.a.createElement("p",{className:L.a.field__valid},"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"):o.a.createElement("p",{className:L.a.field__valid}),o.a.createElement("ul",{className:L.a.addPopup__listColor},a?a.map((function(t){var e="badge__".concat(t.name);return o.a.createElement("li",{key:t.id},o.a.createElement(C,{handleClickPopup:function(){p(t.id)},color:e,stylePopup:"badge_stylePopup","stylePopup\u0410ctive":m===t.id&&"badge_stylePopup\u0410ctive"}))})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0446\u0432\u0435\u0442\u043e\u0432..."),o.a.createElement("button",{type:"submit",onClick:function(t){if(t.preventDefault(),!j)return P(!0);P(!1);var s=a.filter((function(t){return t.id===m}))[0].name;g(!0),_.a.post("https://todo-165ea.firebaseio.com/todo/lists.json",{color:s,colorId:m,id:Math.floor(1e4*Math.random())+1,tasks:[],name:j}).then((function(t){var a=JSON.parse(t.config.data),s=Object(f.a)({},a);e(s),console.log(a),l(!1),B()})).finally((function(){g(!1)}))},className:L.a.addPopup__btn},b?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))},P=a(5),B=a.n(P),A=a(37),I=a.n(A),S=a(38),R=a.n(S),H=function(t){var e=t.list,a=t.onAddTask,n=t.dataList,i=Object(s.useState)(!1),c=Object(d.a)(i,2),l=c[0],r=c[1],u=Object(s.useState)(""),m=Object(d.a)(u,2),p=m[0],f=m[1],k=Object(s.useState)(!1),v=Object(d.a)(k,2),b=v[0],h=v[1],E=Object(s.useState)(!1),C=Object(d.a)(E,2),j=C[0],T=C[1],O=function(){r((function(t){return!t})),f(""),T(!1)};return o.a.createElement(o.a.Fragment,null,l?o.a.createElement("div",{className:B.a.tasks__formBlock},o.a.createElement("input",{value:p,onChange:function(t){return f(t.target.value)},className:B.a.field,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}),j?o.a.createElement("p",{className:B.a.tasks__valid},"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"):o.a.createElement("p",{className:B.a.tasks__valid}),o.a.createElement("button",{disabled:b,onClick:function(){if(!p)return T(!0);T(!1),h(!0);var t={completed:!1,text:p,id:Math.floor(100*Math.random())+1,listId:e.colorId};for(var s in n)n[s].id==e.id&&_.a.post("https://todo-165ea.firebaseio.com/todo/lists/".concat(s,"/tasks.json"),t).then((function(t){var s=JSON.parse(t.config.data);a(e.id,s),O()})).finally((function(){h(!1)}))},type:"submit",className:B.a.tasks__addTascs},b?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),o.a.createElement("button",{onClick:O,type:"submit",className:g()(B.a.tasks__addTascs,B.a.tascs__addTascs_gray)},"\u041e\u0442\u043c\u0435\u043d\u0430")):o.a.createElement("div",{onClick:O,className:B.a.tasks__formNew},o.a.createElement("img",{src:R.a,alt:"Add icon"}),o.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")))},M=function(t){var e=t.task,a=t.list,n=(t.dataList,t.onRemoveTask),i=t.onCompleteTask,c=Object(s.useState)(null),l=Object(d.a)(c,2),r=l[0],u=l[1];Object(s.useEffect)((function(){_.a.get("https://todo-165ea.firebaseio.com/todo.json").then((function(t){var e=t.data;for(var s in e.lists)e.lists[s].id===a.id&&u(s)}))}),[r]);return o.a.createElement("div",{className:B.a.tasks__itemRow,key:e.id},o.a.createElement("div",{className:B.a.checkbox},o.a.createElement("input",{onChange:function(t){return function(t){t.persist(),i(a.id,e.id,t.target.checked),_.a.get("https://todo-165ea.firebaseio.com/todo.json").then((function(s){var o=s.data;for(var n in o.lists)if(o.lists[n].id===a.id)for(var i in o.lists[n].tasks)o.lists[n].tasks[i].id===e.id&&(console.log(!t.target.checked),_.a.patch("https://todo-165ea.firebaseio.com/todo/lists/".concat(n,"/tasks/").concat(i,".json"),{completed:t.target.checked}).then((function(t){})).catch((function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443")})))}))}(t)},id:"task-".concat(e.id),type:"checkbox",checked:e.completed}),o.a.createElement("label",{htmlFor:"task-".concat(e.id)},o.a.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"#767676",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))),o.a.createElement("p",{className:B.a.tasks__text},null===e||void 0===e?void 0:e.text),o.a.createElement("img",{onClick:function(){_.a.get("https://todo-165ea.firebaseio.com/todo.json").then((function(t){var s=t.data,o=function(t){if(s.lists[t].id===a.id)for(var o in s.lists[t].tasks)s.lists[t].tasks[o].id===e.id&&_.a.delete("https://todo-165ea.firebaseio.com/todo/lists/".concat(t,"/tasks/").concat(o,".json")).then((function(a){n(s.lists[t].id,e.id)})).catch((function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443")}))};for(var i in s.lists)o(i)}))},className:B.a.tasks__removeIcon,src:T.a,alt:"remove icon"}))},Z=function(t){var e,a=t.list,s=t.withoutEmpty,n=t.colors,i=t.onAddTask,c=t.dataList,l=t.onEditTitle,d=t.onRemoveTask,r=t.onCompleteTask,u=n&&n.filter((function(t){return a.color===t.name}));return o.a.createElement("div",{className:B.a.tasks},o.a.createElement("h2",{className:B.a.tasks__title,style:{color:u&&u[0].hex}},a.name,o.a.createElement("img",{onClick:function(){var t=window.prompt("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430",a.name);if(t)for(var e in l(a.id,t),c)c[e].id==a.id&&_.a.patch("https://todo-165ea.firebaseio.com/todo/lists/".concat(e,".json"),{name:t}).catch((function(){return alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430")}))},src:I.a,alt:"edit"})),!s&&!(null===(e=a.tasks)||void 0===e?void 0:e.length)&&o.a.createElement("h3",{className:B.a.tasks__noTasks},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),a.tasks.map((function(t){return o.a.createElement(M,{onRemoveTask:d,onCompleteTask:r,key:t.id,task:t,list:a,dataList:c})})),o.a.createElement(H,{onAddTask:i,list:a,dataList:c}))};var J=function(){var t=Object(s.useState)(null),e=Object(d.a)(t,2),a=e[0],n=e[1],i=Object(s.useState)({}),c=Object(d.a)(i,2),r=c[0],m=c[1],f=Object(s.useState)(null),k=Object(d.a)(f,2),v=k[0],b=k[1],g=Object(s.useState)(null),h=Object(d.a)(g,2),E=h[0],C=h[1],j=Object(u.e)();Object(s.useEffect)((function(){_.a.get("https://todo-165ea.firebaseio.com/todo.json").then((function(t){var e=t.data,a=e.lists,s=[];for(var o in a){var i=[];if("undefined"!==typeof a[o].tasks){for(var c in a[o].tasks)i.push(a[o].tasks[c]);a[o].tasks=i}else a[o].tasks=[];s.push(a[o])}n(s),m(a),b(e.colors)}))}),[]);var T=function(t,e){var s=a.map((function(a){if(a.id===t)if("undefined"===typeof a.tasks)a.tasks=[e];else{var s=[];for(var o in a.tasks)s.push(a.tasks[o]);a.tasks=[].concat(s,[e])}return a}));console.log(s),n(s),_.a.get("https://todo-165ea.firebaseio.com/todo.json").then((function(t){var e=t.data.lists;m(e)}))},N=function(t,e){var s=a.map((function(a){return a.id===t&&(a.tasks=a.tasks.filter((function(t){return t.id!==e}))),a}));n(s)},L=function(t,e,s){var o=a.map((function(a){return a.id===t&&(a.tasks=a.tasks.map((function(t){return t.id===e&&(t.completed=s),t}))),a}));n(o)},y=function(t,e){var s=a.map((function(a){return a.id===t&&(a.name=e),a}));n(s)};return Object(s.useEffect)((function(){var t=j.location.pathname.split("/lists/")[1];if(a){var e=a.find((function(e){return e.id===Number(t)}));C(e)}}),[a,j.location.pathname]),o.a.createElement("div",{className:p.a.todo},o.a.createElement("div",{className:p.a.todo__sidebar},o.a.createElement(O,{onClickItem:function(t){j.push("/"),C(t)},items:[{icon:o.a.createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M10.96 5.10001H5.74001C5.24321 5.10001 5.20001 5.50231 5.20001 6.00001C5.20001 6.49771 5.24321 6.90001 5.74001 6.90001H10.96C11.4568 6.90001 11.5 6.49771 11.5 6.00001C11.5 5.50231 11.4568 5.10001 10.96 5.10001ZM12.76 9.60001H5.74001C5.24321 9.60001 5.20001 10.0023 5.20001 10.5C5.20001 10.9977 5.24321 11.4 5.74001 11.4H12.76C13.2568 11.4 13.3 10.9977 13.3 10.5C13.3 10.0023 13.2568 9.60001 12.76 9.60001ZM5.74001 2.40001H12.76C13.2568 2.40001 13.3 1.99771 13.3 1.50001C13.3 1.00231 13.2568 0.600006 12.76 0.600006H5.74001C5.24321 0.600006 5.20001 1.00231 5.20001 1.50001C5.20001 1.99771 5.24321 2.40001 5.74001 2.40001ZM2.86001 5.10001H1.24001C0.743212 5.10001 0.700012 5.50231 0.700012 6.00001C0.700012 6.49771 0.743212 6.90001 1.24001 6.90001H2.86001C3.35681 6.90001 3.40001 6.49771 3.40001 6.00001C3.40001 5.50231 3.35681 5.10001 2.86001 5.10001ZM2.86001 9.60001H1.24001C0.743212 9.60001 0.700012 10.0023 0.700012 10.5C0.700012 10.9977 0.743212 11.4 1.24001 11.4H2.86001C3.35681 11.4 3.40001 10.9977 3.40001 10.5C3.40001 10.0023 3.35681 9.60001 2.86001 9.60001ZM2.86001 0.600006H1.24001C0.743212 0.600006 0.700012 1.00231 0.700012 1.50001C0.700012 1.99771 0.743212 2.40001 1.24001 2.40001H2.86001C3.35681 2.40001 3.40001 1.99771 3.40001 1.50001C3.40001 1.00231 3.35681 0.600006 2.86001 0.600006Z",fill:"#7C7C7C"})),name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",active:"/"===j.location.pathname}]}),o.a.createElement(x,{onAddList:function(t){var e=[].concat(Object(l.a)(a),[t]);n(e),_.a.get("https://todo-165ea.firebaseio.com/todo.json").then((function(t){var e=t.data.lists;m(e)}))},items:a,colors:v}),a?o.a.createElement(O,{active:!0,onClickItem:function(t){j.push("/lists/".concat(t.id)),C(t)},items:a,dataList:r,onRemove:function(t){var e=a.filter((function(e){return e.id!==t}));n(e)},isRemovable:!0,activeItem:E}):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."),o.a.createElement("div",{className:p.a.todo__tascs},o.a.createElement(u.a,{exact:!0,path:"/"},a&&a.map((function(t,e){return o.a.createElement(Z,{key:e,onAddTask:T,onRemoveTask:N,onEditTitle:y,onCompleteTask:L,colors:v,list:t,dataList:r,withoutEmpty:!0})}))),o.a.createElement(u.a,{path:"/lists/"},a&&E&&o.a.createElement(Z,{onAddTask:T,onRemoveTask:N,onEditTitle:y,onCompleteTask:L,colors:v,list:E,dataList:r}))))};i.a.render(o.a.createElement(c.a,null,o.a.createElement(J,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.61c4d69d.chunk.js.map